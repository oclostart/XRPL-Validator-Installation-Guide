# THIS STEP IS OPTIONAL IF YOU WOULD LIKE TO SSH INTO YOUR XROK NODE
# THESE STEPS ARE FOR A WINDOWS CONFIGURATION CLIENT (PC REMOTING INTO THE XRPL NODE)
# Note: Complete these tasks on the Windows client PC that will remote into the server
Click START
Search "Windows PowerShell"
Rick click and Run as Administrator

# Generate
ssh-keygen -t rsa -b 4096  # Press Enter for defaults
type $env:USERPROFILE\.ssh\id_rsa.pub  # Copy output to clipboard

#  Connect to the Server from the Client (Password-Based) where x.x.x.x is the Server IP
ssh username@x.x.x.x
password

# On the Server (via SSH Session) 
mkdir -p ~/.ssh
echo "<paste-public-key-here>" >> ~/.ssh/authorized_keys  # Paste key, e.g., ssh-rsa AAAAB3NzaC1yc2...
chmod 600 ~/.ssh/authorized_keys
chmod 700 ~/.ssh
exit

# Reconnect the Windows client to the Server to test key-based login (no password needed)
ssh username@x.x.x.x  
password

# On the Server (via New Key-Based SSH Session)
sudo apt update
sudo apt install -y ufw
sudo ufw allow 51235/tcp  # rippled peer port
sudo ufw allow 22/tcp     # SSH from any IP
# If not traveling and connecting from local network computers
# sudo ufw allow from x.x.x.x to any port 22
sudo ufw enable
sudo ufw status           # Verify rules
sudo nano /etc/ssh/sshd_config

# Add/edit:
Port 22

PermitRootLogin no
PasswordAuthentication no
AllowUsers username
# Save & Exit
CTRL+O
ENTER
CTRL+X
sudo systemctl restart sshd

